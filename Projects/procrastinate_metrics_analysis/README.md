# Анализ системы метрик приложения Procrastinate Pro+

## Описание проекта
Вы — продуктовый аналитик приложения Procrastinate Pro+, которое предоставляет пользователям доступ к развлекательному контенту: видео, подкастам и блогам. К началу лета в приложении появился новый вид контента — спортивный. С его помощью менеджеры стремятся расширить аудиторию, добавив в неё пользователей, которые увлекаются спортом и здоровым образом жизни. К запуску нового контента была скорректирована маркетинговая стратегия привлечения пользователей.

После запуска нового контента и изменения стратегии интерес к продукту в целом вырос, но выручка начала стагнировать. Необходимо разобраться, почему это происходит.

**Задачи исследования:**
- Провести анализ юнит-экономики продукта в динамике за первые 28 дней
- Разобраться в причинах стагнации выручки
- Определить, какие источники привлечения приносят прибыль, а какие не выходят на уровень окупаемости
- Дать рекомендации отделу маркетинга

## Навыки и инструменты
- **Python:** Pandas, NumPy — обработка и анализ данных
- **Визуализация:** Matplotlib, Seaborn
- **Продуктовые метрики:** DAU, MAU, Stickiness, CAC, LTV, ROI, Retention, Conversion Rate
- **Когортный анализ:** группировка по неделям и месяцам привлечения

## Набор данных

**`тут_была_ссылка`** — информация о посещениях:
- `user_id` — уникальный идентификатор пользователя
- `region` — страна пользователя
- `device` — категория устройства
- `channel` — рекламный источник
- `session_start` — дата и время начала сессии
- `session_end` — дата и время окончания сессии

**`тут_была_ссылка`** — информация о покупках:
- `user_id` — идентификатор пользователя
- `event_dt` — дата и время покупки
- `revenue` — выручка

**`тут_была_ссылка`** — затраты на маркетинг:
- `dt` — дата
- `channel` — рекламный источник
- `costs` — затраты

---

## План проекта

1. Загрузить и предобработать данные
2. Подготовить данные для когортного анализа
3. Рассчитать и проанализировать метрики вовлечённости в продукт
4. Рассчитать и проанализировать финансовые метрики CAC, LTV и ROI за первые 28 дней
5. Исследовать метрики в разрезе источника привлечения
6. Рассчитать период окупаемости маркетинговых вложений
7. Сформулировать выводы и рекомендации

---

## Часть 1. Загрузка и предобработка данных

**Выполненные операции:**
- Загружены три датафрейма:
  - `df_visits` (161 865 строк, 6 столбцов)
  - `df_orders` (33 893 строки, 3 столбца)
  - `df_costs` (976 строк, 3 столбца)
- Проверены на пропуски и дубликаты
- Преобразованы типы данных для столбцов с датами
- Обнаружены неявные дубликаты (повторные визиты и покупки) — оставлены без изменений

**Результат:** Данные загружены успешно, пропусков и полных дубликатов нет. Типы данных приведены к корректным.

---

## Часть 2. Подготовка данных к когортному анализу

**Выполненные операции:**
- Создана таблица `profiles` с информацией о первом визите и канале привлечения для каждого пользователя
- Рассчитано количество пользователей по дням и каналам
- Объединены данные о затратах и количестве пользователей для расчёта CAC
- Рассчитан лайфтайм для каждой покупки (разница между датой покупки и датой привлечения)
- Отфильтрованы покупки за первые 28 дней (21 664 покупки, 63.9% от всех)

**Результат:** Процент покупок в первые 28 дней составляет 64%. Средний лайфтайм покупки — 33 дня.

---

## Часть 3. Анализ месячной динамики основных метрик продукта

### Задача 1. DAU, MAU, Stickiness

**DAU (ежедневная активность):**
- Построен график динамики DAU с отметкой запуска спортивного контента (июнь 2024)
- Виден рост активности после внедрения нового контента

**MAU (месячная активность):**
- Построен график динамики MAU
- Наблюдается рост пользовательской базы после июня

**Stickiness (DAU/MAU):**
- Рассчитана и визуализирована метрика залипательности
- Отмечен рост показателя после запуска нового контента

### Задача 2. CAC, LTV, ROI по месяцам

**Динамика среднего CAC:**
- Рассчитана и визуализирована средняя стоимость привлечения пользователя по месяцам
- Отмечен рост затрат с мая по июнь и с сентября по октябрь

**Динамика LTV за 28 дней:**
- Рассчитан LTV для каждой месячной когорты
- Визуализирована динамика метрики

**Динамика ROI за 28 дней:**
- Рассчитан ROI для каждой месячной когорты
- Визуализирована динамика метрики с отметкой точки окупаемости

---

## Часть 4. Анализ метрик в разрезе источника привлечения

### Задача 1. Популярность каналов и динамика активности

**Распределение пользователей по каналам:**

| Канал | Пользователей | Доля |
|-------|---------------|------|
| FaceBoom | 28 401 | 37.9% |
| TipTop | 18 118 | 24.2% |
| RocketSuperAds | 14 257 | 19.0% |
| MediaTornado | 14 080 | 18.8% |

**Динамика привлечения новых пользователей по дням:**
- Построен график для всех каналов
- Положительная динамика у каналов FaceBoom и TipTop

**DAU по каналам:**
- Построены графики для каждого канала
- Отмечен значительный рост TipTop после июня

**MAU по каналам:**
- Визуализирована динамика месячной активности по каналам
- TipTop показывает наиболее выраженный рост

**Stickiness по каналам:**
- Рассчитана и визуализирована метрика залипательности для каждого канала

### Задача 2. Когортный анализ по неделям

**Скользящее удержание за период с 14 по 28 день:**
- Рассчитано для недельных когорт по каждому каналу
- Визуализирована динамика удержания

**Конверсия в покупку за 28 дней:**
- Рассчитана для недельных когорт по каналам
- Визуализирована динамика конверсии

**Недельные затраты на маркетинг:**
- Построен график затрат по каналам
- Отмечен рост затрат на TipTop и FaceBoom с июня

**CAC по недельным когортам:**
- Рассчитан и визуализирован для каждого канала
- Рост CAC у TipTop и FaceBoom после июня

**LTV по недельным когортам за 28 дней:**
- Рассчитан и визуализирован для всех каналов

**ROI по недельным когортам за 28 дней:**
- Рассчитан и визуализирован для всех каналов
- Отмечены каналы ниже точки окупаемости

---

## Часть 5. Анализ периода окупаемости маркетинговых вложений

Для каналов, не окупившихся за 28 дней (TipTop и FaceBoom), проведён анализ за 10 недель:

- Собраны данные о покупках за 70 дней
- Рассчитаны недельные когорты
- Построены тепловые карты ROI по неделям для каналов TipTop и FaceBoom
- Визуализирована динамика окупаемости в долгосрочной перспективе

---

## Выводы и рекомендации

### Общие выводы по продукту:
1. Рост числа активных пользователей подтверждается графиками DAU/MAU как по общему состоянию продукта, так и в разрезе каналов
2. Основные каналы привлечения: TipTop и FaceBoom (более 60% всего трафика)
3. Улучшился пользовательский опыт — выросла метрика Stickiness, пользователи стали проводить больше времени в приложении
4. Лучший показатель залипательности у пользователей из канала TipTop

### По каналам привлечения:

| Канал | Характеристика |
|-------|----------------|
| **TipTop** | Не окупается за 28 дней из-за экстремально высокого CAC. Хорошие показатели LTV и конверсии, но высокая стоимость привлечения делает канал убыточным. В долгосрочной перспективе (2+ месяца) выходит на окупаемость |
| **FaceBoom** | Наихудший канал. При максимальных затратах показывает низкую окупаемость даже в долгосрочной перспективе. Главная "дыра" в бюджете |
| **MediaTornado** | Стабильный канал. Часто окупается, иногда приносит убытки. Низкий LTV, но и низкие затраты. Хорошо удерживает пользователей |
| **RocketSuperAds** | Наиболее финансово выгодный канал. Низкие затраты, хорошее удержание, стабильные метрики. Самый высокий ROI |

### Аномалии:
- Резкое падение по всем каналам в ноябре-декабре 2024 года по всем метрикам в разрезе 28 дней
- Требуется срочный анализ продукта в этот период (возможен технический сбой или сезонный фактор)

### Рекомендации отделу маркетинга:

1. **Перераспределить бюджет:**
   - Увеличить финансирование канала RocketSuperAds (наиболее прибыльный)
   - Сократить бюджеты TipTop и FaceBoom до выяснения причин убыточности

2. **Провести глубокий анализ убыточных каналов:**
   - Изучить пользовательский опыт и отзывы
   - Проверить релевантность контента и правильность позиционирования спортивной тематики

3. **Оптимизировать канал MediaTornado:**
   - Улучшить конверсию в покупку и LTV
   - Канал имеет хороший потенциал для роста

4. **Проанализировать монетизацию спортивного контента:**
   - Сегментировать LTV пользователей, пришедших на спортивный контент
   - Сравнить с пользователями других пакетов
   - При необходимости скорректировать ценовую политику

5. **Провести аудит рекламных партнёров:**
   - Оценить эффективность текущих блогеров и рекламных кампаний
   - Найти альтернативные источники с лучшим соотношением цена/качество

6. **Срочно проанализировать падение метрик в ноябре-декабре:**
   - Переговорить с разработчиками о возможных технических сбоях
   - Изучить сезонные факторы
   - Проверить корректность сбора данных в этот период

---

## Файлы
- `README.md` — описание проекта
- `Procrastinate Pro+.ipynb` — Jupyter Notebook с полным кодом и визуализациями
